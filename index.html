<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Password Generator</title>
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, sans-serif;
  background: #000;
  color: #f0f0f0;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding: 40px 20px;
}
.container {
  background: rgba(30,30,30,0.95);
  backdrop-filter: blur(8px);
  padding: 25px;
  border-radius: 16px;
  max-width: 650px;
  width: 100%;
  box-shadow: 0 10px 30px rgba(0,255,0,0.1);
  display: flex;
  flex-direction: column;
  gap: 16px;
  position: relative;
}
h1 { text-align: center; margin: 0 0 10px 0; }

/* Tips */
#tip-box {
  background: #222;
  padding: 12px 16px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  font-size: 0.95rem;
}
.tip-icon {
  background: #ffeb3b;
  color: #000;
  font-weight: bold;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  flex-shrink: 0;
}
#tip-refresh {
  background: none;
  border: none;
  cursor: pointer;
  padding: 2px;
  display: flex;
  align-items: center;
}
#tip-refresh svg {
  stroke: #4caf50;
  width: 18px;
  height: 18px;
}

/* Checkboxes */
.checkbox-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 4px;
  cursor: pointer;
  font-size: 0.9rem;
  user-select: none;
}
.checkbox-wrapper input[type="checkbox"] {
  width: 20px;
  height: 20px;
  appearance: none;
  border-radius: 4px;
  border: 2px solid #4caf50;
  background: #1c1c1c;
  display: inline-block;
  position: relative;
}
.checkbox-wrapper input[type="checkbox"]:checked::after {
  content: '';
  position: absolute;
  left: 5px;
  top: 1px;
  width: 5px;
  height: 10px;
  border: solid #4caf50;
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

/* Inputs & Buttons */
input[type="number"], select {
  width: 100%;
  padding: 10px;
  border-radius: 8px;
  border: none;
  margin-top: 4px;
  font-size: 1rem;
  background: #2a2a2a;
  color: #f0f0f0;
}
button {
  padding: 12px;
  background: linear-gradient(90deg,#4caf50,#32cd32);
  color: #fff;
  border: none;
  font-size: 1rem;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
  font-weight: bold;
}
button:hover {
  background: linear-gradient(90deg,#32cd32,#4caf50);
  box-shadow: 0 0 10px #32cd32;
}

/* Password Boxes */
.password-box-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}
.password-box {
  background: #1c1c1c;
  padding: 14px 40px 14px 14px;
  border-radius: 12px;
  word-break: break-all;
  font-family: monospace;
  font-size: 1.1rem;
  cursor: pointer;
  user-select: all;
  margin-top: 6px;
  transition: 0.2s;
  filter: blur(4px);
  flex: 1 1 45%;
  min-width: 200px;
}
.password-box:hover { box-shadow: 0 0 12px rgba(50,205,50,0.6); }

/* Icon Buttons */
.show-btn, .fav-btn, .breach-icon {
  background: none;
  border: none;
  cursor: pointer;
  padding: 2px;
  display: flex;
  align-items: center;
}
.show-btn svg, .fav-btn svg, .breach-icon svg {
  width: 20px;
  height: 20px;
  stroke: #4caf50;
}
.fav-btn.favorited svg { fill: #ffeb3b; stroke: #ffeb3b; }
.breach-icon.checking svg { stroke: #ffeb3b; }
.breach-icon.safe svg { stroke: #4caf50; }
.breach-icon.breached svg { stroke: #f44336; }

/* Strength & Crack Time */
.strength-container {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 4px;
  flex-wrap: wrap;
}
.strength-bar {
  flex: 1;
  height: 12px;
  border-radius: 6px;
  background: #333;
  overflow: hidden;
}
.strength-fill {
  height: 100%;
  width: 100%;
  border-radius: 6px;
  background: #4caf50;
}
.strength-label { font-size: 0.8rem; min-width: 70px; text-align: right; color: #ccc; }
.crack-time { font-size: 0.75rem; color: #aaa; margin-left: 6px; flex-shrink: 0; }

/* Copied Feedback */
.copied-msg {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  background: #32cd32;
  color: #000;
  padding: 6px 12px;
  border-radius: 8px;
  font-weight: bold;
  z-index: 10;
}

#length-msg { font-size:0.85rem; color:#aaa; margin-top:4px; }
small { display: block; margin-top: 6px; color: #aaa; text-align: center; }

/* Responsive */
@media (max-width: 500px){
  .password-box { flex: 1 1 100%; }
  .strength-container { flex-direction: column; align-items: flex-start; }
}
</style>
</head>
<body>
<div class="container">
  <h1>Secure Password Generator</h1>
  <div id="tip-box">
    <div class="tip-icon">!</div>
    <div id="tip-text"></div>
    <button id="tip-refresh" title="New Tip">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#4caf50" stroke-width="2" viewBox="0 0 24 24"><path d="M4.93 4.93a10 10 0 1 1-2.83 2.83M1 1v6h6"/></svg>
    </button>
  </div>

  <label>Number of Passwords:
    <select id="numPasswords">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
    </select>
  </label>

  <label>Password Length:
    <input type="number" id="length" min="6" max="48" value="16">
    <div id="length-msg"></div>
  </label>

  <label class="checkbox-wrapper"><input type="checkbox" id="uppercase" checked>Include Uppercase</label>
  <label class="checkbox-wrapper"><input type="checkbox" id="numbers" checked>Include Numbers</label>
  <label class="checkbox-wrapper"><input type="checkbox" id="symbols" checked>Include Symbols</label>

  <label class="checkbox-wrapper"><input type="checkbox" id="showAllPasswords">Show All Passwords</label>

  <button id="generate">Generate Password</button>
  <button id="show-favorites">Show Favorites</button>

  <div id="passwords-container"></div>
  <small>Click a password to copy it; long-press on mobile</small>
</div>

<script>
// ===== Tips =====
const tips = [
  "Use a mix of letters, numbers, and symbols","Avoid common words or sequences","Do not reuse passwords across accounts","Use a password manager","Longer passwords are generally more secure","Avoid using personal info","Change passwords regularly","Enable 2FA","Randomly generated passwords are stronger","Check passwords against breaches","Use different passwords for email, banking, social media","Avoid keyboard patterns","Include lowercase and uppercase","Use at least one number and one symbol","Avoid using your birthdate or name","Do not share passwords","Update immediately after breach","Consider passphrases","Avoid dictionary words","Never write passwords on paper","Use long random strings","Avoid reusing old passwords","Combine unrelated words","Avoid sequential letters/numbers","Use browser generators safely","Use hardware managers for critical accounts","Check 'Have I Been Pwned'","Do not save passwords in plain text","Rotate work passwords","Audit saved passwords"
];

function showRandomTip() {
  document.getElementById('tip-text').textContent = tips[Math.floor(Math.random()*tips.length)];
}
document.getElementById('tip-refresh').addEventListener('click', showRandomTip);
showRandomTip();

// ===== Variables =====
const passwordsContainer = document.getElementById('passwords-container');
const generateBtn = document.getElementById('generate');
const lengthInput = document.getElementById('length');
const numPasswordsSelect = document.getElementById('numPasswords');
const uppercaseInput = document.getElementById('uppercase');
const numbersInput = document.getElementById('numbers');
const symbolsInput = document.getElementById('symbols');
const showAllCheckbox = document.getElementById('showAllPasswords');
const showFavBtn = document.getElementById('show-favorites');

let favorites = [];
let showingFavorites = false;

// ===== Password Generator =====
function generatePassword(length, opts){
  const lower = 'abcdefghijklmnopqrstuvwxyz';
  const upper = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  const numbers = '0123456789';
  const symbols = '!@#$%^&*()_+[]{}|;:,.<>?/~';
  let pwd = [];
  if(opts.uppercase) pwd.push(upper[Math.floor(Math.random()*upper.length)]);
  if(opts.numbers) pwd.push(numbers[Math.floor(Math.random()*numbers.length)]);
  if(opts.symbols) pwd.push(symbols[Math.floor(Math.random()*symbols.length)]);
  const allChars = lower + (opts.uppercase ? upper : '') + (opts.numbers ? numbers : '') + (opts.symbols ? symbols : '');
  while(pwd.length < length) pwd.push(allChars[Math.floor(Math.random()*allChars.length)]);
  for(let i=pwd.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [pwd[i],pwd[j]]=[pwd[j],pwd[i]];
  }
  return pwd.join('');
}

// ===== Render Passwords =====
function renderPasswords(){
  passwordsContainer.innerHTML='';
  const num = parseInt(numPasswordsSelect.value);
  const len = parseInt(lengthInput.value);
  if(len<6||len>48){ 
    document.getElementById('length-msg').textContent='Length must be 6â€“48'; 
    return;
  }
  document.getElementById('length-msg').textContent='';

  const itemsToShow = showingFavorites ? favorites : Array(num).fill().map(()=>generatePassword(len,{
    uppercase: uppercaseInput.checked,
    numbers: numbersInput.checked,
    symbols: symbolsInput.checked
  }));

  itemsToShow.forEach(pwd=>{
    const box = document.createElement('div');
    box.className='password-box-wrapper';
    box.innerHTML=`
      <div class="password-box" title="Click to copy">${pwd}</div>
      <button class="show-btn" title="Show/Hide Password">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#4caf50" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M2 12c4-7 16-7 20 0-4 7-16 7-20 0z"/></svg>
      </button>
      <button class="fav-btn ${favorites.includes(pwd)?'favorited':''}" title="Favorite">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#4caf50" stroke-width="2" viewBox="0 0 24 24"><path d="M12 21l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.18L12 21z"/></svg>
      </button>
      <button class="breach-icon checking" title="Checking breach">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#ffeb3b" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
      </button>
    `;
    const pwdBox = box.querySelector('.password-box');
    const showBtn = box.querySelector('.show-btn');
    const favBtn = box.querySelector('.fav-btn');
    const breachIcon = box.querySelector('.breach-icon');

    // Copy password
    pwdBox.addEventListener('click', ()=>{
      navigator.clipboard.writeText(pwd);
      const msg = document.createElement('div');
      msg.className='copied-msg';
      msg.textContent='Copied!';
      document.body.appendChild(msg);
      setTimeout(()=>msg.remove(),1000);
    });

    // Toggle blur
    showBtn.addEventListener('click', ()=>{
      pwdBox.style.filter = pwdBox.style.filter==='blur(0px)'?'blur(4px)':'blur(0px)';
    });

    // Toggle favorites
    favBtn.addEventListener('click', ()=>{
      if(favBtn.classList.contains('favorited')){
        favBtn.classList.remove('favorited');
        favorites = favorites.filter(f=>f!==pwd);
      } else {
        favBtn.classList.add('favorited');
        favorites.push(pwd);
      }
      if(showingFavorites) renderPasswords();
    });

    // Simulated breach check
    setTimeout(()=>{
      breachIcon.classList.remove('checking');
      if(Math.random()<0.1){
        breachIcon.classList.add('breached');
        breachIcon.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#f44336" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M9 9l6 6M15 9l-6 6"/></svg>`;
        breachIcon.title='Breached';
      } else {
        breachIcon.classList.add('safe');
        breachIcon.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="#4caf50" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M9 12l2 2 4-4"/></svg>`;
        breachIcon.title='Safe';
      }
    }, 400);

    passwordsContainer.appendChild(box);
  });
}

// ===== Events =====
generateBtn.addEventListener('click', ()=>{ showingFavorites=false; renderPasswords(); });
showFavBtn.addEventListener('click', ()=>{
  showingFavorites = !showingFavorites;
  showFavBtn.textContent = showingFavorites?'Show All':'Show Favorites';
  renderPasswords();
});
</script>
</body>
</html>
