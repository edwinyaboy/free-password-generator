<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Password Generator</title>
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, sans-serif;
  background: #000;
  color: #f0f0f0;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  min-height: 100vh;
  padding: 40px 20px;
}
.container {
  background: rgba(30,30,30,0.95);
  backdrop-filter: blur(8px);
  padding: 25px;
  border-radius: 16px;
  max-width: 550px;
  width: 100%;
  box-shadow: 0 10px 30px rgba(0,255,0,0.1);
  display: flex;
  flex-direction: column;
  gap: 16px;
  position: relative;
}
h1 { text-align: center; margin: 0 0 10px 0; }
#tip-box {
  background: #222;
  padding: 12px 16px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.95rem;
  opacity: 0;
  animation: fadeInTip 0.5s forwards;
}
@keyframes fadeInTip {
  from {opacity: 0; transform: translateY(-5px);}
  to {opacity: 1; transform: translateY(0);}
}
.tip-icon {
  background: #ffeb3b;
  color: #000;
  font-weight: bold;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  flex-shrink: 0;
}
label, select {
  display: block;
  font-size: 0.9rem;
  margin-top: 8px;
}
input[type="number"], select {
  width: 100%;
  padding: 10px;
  border-radius: 8px;
  border: none;
  margin-top: 4px;
  font-size: 1rem;
  background: #2a2a2a;
  color: #f0f0f0;
}
input[type="checkbox"] { margin-right: 6px; }
button {
  padding: 12px;
  background: linear-gradient(90deg,#4caf50,#32cd32);
  color: #fff;
  border: none;
  font-size: 1rem;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
  font-weight: bold;
}
button:hover {
  background: linear-gradient(90deg,#32cd32,#4caf50);
  box-shadow: 0 0 10px #32cd32;
}
.password-box {
  background: #1c1c1c;
  padding: 14px;
  border-radius: 12px;
  word-break: break-all;
  font-family: monospace;
  font-size: 1.1rem;
  text-align: center;
  cursor: pointer;
  user-select: all;
  margin-top: 6px;
  transition: 0.2s;
  box-shadow: 0 2px 8px rgba(0,255,0,0.1);
}
.password-box:hover {
  box-shadow: 0 0 12px rgba(50,205,50,0.6);
}
.strength-container {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 4px;
}
.strength-bar {
  flex: 1;
  height: 12px;
  border-radius: 6px;
  background: #333;
  overflow: hidden;
}
.strength-fill {
  height: 100%;
  width: 100%;
  border-radius: 6px;
  background: #4caf50;
}
.strength-label {
  font-size: 0.8rem;
  min-width: 70px;
  text-align: right;
  color: #ccc;
}
small { display: block; margin-top: 6px; color: #aaa; text-align: center; }

/* Circular loader/checkmark */
#loader-wrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
  display: none;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  z-index: 100;
}
#loader {
  width: 80px;
  height: 80px;
}
circle {
  fill: none;
  stroke: #32cd32;
  stroke-width: 6;
  stroke-linecap: round;
  stroke-dasharray: 251.2; /* 2πr for r=40 */
  stroke-dashoffset: 251.2;
}
#checkmark {
  stroke-dasharray: 34;
  stroke-dashoffset: 34;
  stroke-width: 6;
  stroke: #32cd32;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
}
</style>
</head>
<body>
<div class="container">
  <h1>Secure Password Generator</h1>
  <div id="tip-box">
    <div class="tip-icon">!</div>
    <div id="tip-text"></div>
  </div>

  <label>Number of Passwords:
    <select id="numPasswords">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
    </select>
  </label>

  <label>Password Length:
    <input type="number" id="length" min="6" max="48" value="16">
  </label>
  <label><input type="checkbox" id="uppercase" checked>Include Uppercase</label>
  <label><input type="checkbox" id="numbers" checked>Include Numbers</label>
  <label><input type="checkbox" id="symbols" checked>Include Symbols</label>

  <button id="generate">Generate Password</button>

  <div id="passwords-container"></div>
  <small>Click a password to copy it</small>

  <!-- Loader & Checkmark -->
  <div id="loader-wrapper">
    <svg id="loader" viewBox="0 0 100 100">
      <circle cx="50" cy="50" r="40"/>
      <path id="checkmark" d="M30 50 L45 65 L70 35"/>
    </svg>
    <div style="color:#32cd32; font-weight:bold;">Generating...</div>
  </div>
</div>

<script>
// Tips
const tips = [
  "Use a mix of letters, numbers, and symbols.",
  "Avoid common words or sequences.",
  "Do not reuse passwords across accounts.",
  "Use a password manager for stronger passwords.",
  "Longer passwords are generally more secure.",
  "Avoid using personal information.",
  "Change passwords regularly for sensitive accounts.",
  "Enable two-factor authentication where possible.",
  "Randomly generated passwords are stronger than memorized ones.",
  "Check passwords against known breach databases.",
  "Use different passwords for email, banking, and social media.",
  "Avoid keyboard patterns like 'qwerty' or '12345'.",
  "Include both lowercase and uppercase letters.",
  "Use at least one number and one symbol.",
  "Avoid using your birthdate or name.",
  "Do not share your passwords with anyone.",
  "Update passwords immediately if a breach occurs.",
  "Consider using passphrases for memorability.",
  "Avoid dictionary words alone.",
  "Never write passwords on paper or sticky notes.",
  "Use long random strings for crypto wallets.",
  "Avoid reusing old passwords.",
  "Combine multiple unrelated words for a passphrase.",
  "Avoid sequential letters or numbers.",
  "Use browser password generators safely.",
  "Consider using hardware password managers for critical accounts.",
  "Check your passwords against 'Have I Been Pwned'.",
  "Do not save passwords in plain text files.",
  "Rotate passwords for work-related accounts.",
  "Regularly audit saved passwords for security."
];

function showRandomTip() {
  const index = Math.floor(Math.random() * tips.length);
  const tipBox = document.getElementById('tip-box');
  const tipText = document.getElementById('tip-text');
  tipText.textContent = tips[index];
  tipBox.style.animation = 'none';
  void tipBox.offsetWidth;
  tipBox.style.animation = 'fadeInTip 0.5s forwards';
}

// Very Strong Password Generator
function generatePassword(length, opts){
  const lower = 'abcdefghijklmnopqrstuvwxyz';
  const upper = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  const numbers = '0123456789';
  const symbols = '!@#$%^&*()_+[]{}|;:,.<>?/~';

  let pwd = [];

  if(opts.uppercase) pwd.push(upper[Math.floor(Math.random()*upper.length)]);
  if(opts.numbers) pwd.push(numbers[Math.floor(Math.random()*numbers.length)]);
  if(opts.symbols) pwd.push(symbols[Math.floor(Math.random()*symbols.length)]);

  const allChars = lower + (opts.uppercase ? upper : '') + (opts.numbers ? numbers : '') + (opts.symbols ? symbols : '');

  while(pwd.length < length){
    pwd.push(allChars[Math.floor(Math.random()*allChars.length)]);
  }

  for(let i=pwd.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [pwd[i], pwd[j]] = [pwd[j], pwd[i]];
  }

  return pwd.join('');
}

// Elements
const btn = document.getElementById('generate');
const numSelect = document.getElementById('numPasswords');
const container = document.getElementById('passwords-container');
const loaderWrapper = document.getElementById('loader-wrapper');
const circle = loaderWrapper.querySelector('circle');
const check = loaderWrapper.querySelector('#checkmark');

// Button text
function updateButtonText() {
  const num = parseInt(numSelect.value);
  btn.textContent = num === 1 ? "Generate Password" : "Generate Passwords";
}
updateButtonText();
numSelect.addEventListener('change', updateButtonText);

// Generate
btn.addEventListener('click', ()=>{
  const num = parseInt(numSelect.value);
  const lengthInput = parseInt(document.getElementById('length').value);
  const length = Math.min(48, Math.max(6, lengthInput));
  const opts = {
    uppercase: document.getElementById('uppercase').checked,
    numbers: document.getElementById('numbers').checked,
    symbols: document.getElementById('symbols').checked
  };

  showRandomTip();
  container.innerHTML = '';
  loaderWrapper.style.display = 'flex';

  // Reset loader
  circle.style.transition = "stroke-dashoffset 3s linear";
  circle.style.strokeDashoffset = 251.2;
  check.style.transition = "none";
  check.style.strokeDashoffset = 34;

  // Animate circle
  setTimeout(()=>{
    circle.style.strokeDashoffset = 0;
  }, 50);

  // After 3s, show checkmark & passwords
  setTimeout(()=>{
    check.style.transition = "stroke-dashoffset 0.5s ease-out";
    check.style.strokeDashoffset = 0;

    for(let i=0;i<num;i++){
      const pwd = generatePassword(length, opts);
      const pwdDiv = document.createElement('div');
      pwdDiv.className = 'password-box';
      pwdDiv.textContent = pwd;
      pwdDiv.addEventListener('click', ()=>{
        navigator.clipboard.writeText(pwd).then(()=>{
          pwdDiv.textContent = 'Copied! ✅';
          setTimeout(()=>{ pwdDiv.textContent = pwd; },1000);
        });
      });

      const strengthContainer = document.createElement('div');
      strengthContainer.className = 'strength-container';
      const bar = document.createElement('div');
      bar.className = 'strength-bar';
      const fill = document.createElement('div');
      fill.className = 'strength-fill';
      bar.appendChild(fill);
      const strengthLabel = document.createElement('div');
      strengthLabel.className = 'strength-label';
      strengthLabel.textContent = 'Very Strong';
      strengthContainer.appendChild(bar);
      strengthContainer.appendChild(strengthLabel);

      container.appendChild(pwdDiv);
      container.appendChild(strengthContainer);
    }

    loaderWrapper.style.display = 'none';
  }, 3050); // slightly over 3s
});

// Initial tip
showRandomTip();
</script>
</body>
</html>
